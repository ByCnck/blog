---
layout: demo
title: CSS scroll snap points
date: 2016-07-10 21:29:38
back: css-scroll-snap-points
---
<style type="text/scss">
#page { width: 100%; }
.snap-slider {
  overflow-x: auto;

  -webkit-overflow-scrolling: touch;
  scroll-snap-type: mandatory;

  scroll-snap-destination: 50% 0;
  &__scroller {
    display: table;
    text-align: center;
  }
  &__item {
    scroll-snap-coordinate: 50% 0%;

    display: table-cell;
    line-height: 150px; font-size: 2em;

    &:not(:first-child) {
      border-left: 1px solid #ccc;
    }
  }
  &__width {
    width: 80vw;
  }
}
</style>
<div class="snap-slider">
  <div class="snap-slider__scroller">
    <div class="snap-slider__item">
      <div class="snap-slider__width">0</div>
    </div>
    <div class="snap-slider__item">
      <div class="snap-slider__width">1</div>
    </div>
    <div class="snap-slider__item">
      <div class="snap-slider__width">2</div>
    </div>
    <div class="snap-slider__item">
      <div class="snap-slider__width">3</div>
    </div>
    <div class="snap-slider__item">
      <div class="snap-slider__width">4</div>
    </div>
  </div>
</div>
<div class="unsupport">CSS scroll snap points is not supported in this browser, please try Firefox or (Safari, Chrome on iOS) (7/12/2016)</div>
<div id="cannot_detect" class="text-danger text-center" hidden>Caveat: Segmentfault，微信 和 QQ 内置浏览器不支持，请使用系统 Safari 或 Chrome (7/12/2016)</div>
<div class="browser-support"><a href="http://caniuse.com/#feat=css-snappoints">Browser Support</a></div>
<script>
(function() {
  function isSupport(attr) {
    return ['', 'webkit-', 'ms-'].some(function(prefix) {
      var prefixed = (prefix + attr).replace(/-([a-z])/g, function(_, $1) { return $1.toUpperCase(); });
      return prefixed in document.documentElement.style;
    });
  }
  var isSupport = isSupport('scroll-snap-type') && isSupport('scroll-snap-coordinate');
  if(!isSupport) {
    document.querySelector('.unsupport').classList.add('show');

    // function addScript(src, supported) {
    //  if(!supported)
    //    document.write('<script src="' + src + '" async ></' + 'script>');
    // }
  } else {
    document.getElementById('cannot_detect').style.display = 'block';
  }
})();
</script>
